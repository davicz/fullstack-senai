<h1 mat-dialog-title class="font-bold">Detalhes do Colaborador</h1>

<div mat-dialog-content>
  <div class="grid grid-cols-2 gap-4 mb-6">
    <div><strong>Nome:</strong> {{ user.name }}</div>
    <div><strong>E-mail:</strong> {{ user.email }}</div>
    <div><strong>CPF:</strong> {{ user.cpf || 'Não informado' }}</div>
    <div><strong>Status:</strong> {{ user.status }}</div>
  </div>

  <h2 class="text-lg font-semibold border-t pt-4 mt-4">Permissões</h2>
  <form [formGroup]="editProfileForm" class="mt-4">
    <mat-form-field class="w-full">
      <mat-label>Perfil do Usuário</mat-label>
      <mat-select formControlName="profile">
        <ng-container *ngIf="loggedInUserRole === 'Administrador'">
          <mat-option value="Administrador">Administrador</mat-option>
          <mat-option value="Gente e Cultura">Gente e Cultura</mat-option>
          <mat-option value="Colaborador Comum">Colaborador Comum</mat-option>
        </ng-container>

        <ng-container *ngIf="loggedInUserRole === 'Gente e Cultura'">
          <mat-option value="Gente e Cultura">Gente e Cultura</mat-option>
          <mat-option value="Colaborador Comum">Colaborador Comum</mat-option>
        </ng-container>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="w-full mt-4" *ngIf="showPasswordField">
      <mat-label>Definir Nova Senha</mat-label>
      <input matInput formControlName="password" type="password" placeholder="Deixe em branco para não alterar">
    </mat-form-field>
  </form>
</div>

<div mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Fechar</button>
  <button mat-flat-button color="primary" [disabled]="editProfileForm.invalid" (click)="onSave()">
    Salvar Alterações
  </button>
</div>